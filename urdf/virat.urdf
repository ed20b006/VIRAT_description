<?xml version="1.0"?>
<robot name="virat">

	<link name="base_footprint" />

	<joint name="base_joint" type="fixed">
		<parent link="base_footprint" />
		<child link="base_link" />
		<origin xyz="0 0 0" rpy="0 0 0" />
	</joint>

	<link name="base_link">
		<visual>
			<origin xyz="0 0 0" rpy="0 0 0" />
			<geometry>
				<mesh filename="package://virat_description/meshes/body/bot2.dae" />
			</geometry>
		</visual>

		<collision>
			<origin xyz="0 0 0" rpy="0 0 0" />
			<geometry>
				<mesh filename="package://virat_description/meshes/body/bot2.dae" />
			</geometry>
		</collision>

		<inertial>
			<origin xyz="0 0 0" rpy="0 0 0" />
			<mass value="60.0" />
			<inertia ixx="400.0" ixy="-100" ixz="-100.0" iyy="800.0" iyz="0.0" izz="600.0" />
		</inertial>
	</link>

	<link name="right_wheel_link">
		<visual>
			<origin xyz="0 0 0" rpy="0 0 0" />
			<geometry>
				<mesh filename="package://virat_description/meshes/wheels/tyre1.dae" />
			</geometry>
		</visual>

		<collision>
			<origin xyz="0 0 0" rpy="0 0 0" />
			<geometry>
				<mesh filename="package://virat_description/meshes/wheels/tyre1.dae" />
			</geometry>
		</collision>

		<inertial>
			<origin xyz="0 0 0" rpy="0 0 0" />
			<mass value="10.0" />
			<inertia ixx="2.5" ixy="0.0" ixz="0.0" iyy="5" iyz="0.0" izz="2.5" />
		</inertial>
	</link>

	<joint name="right_wheel_joint" type="continuous">
		<axis rpy="0 0 0" xyz="0 1 0" />
		<parent link="base_link" />
		<child link="right_wheel_link" />
		<origin xyz="0 -0.323 0" />
	</joint>

	<link name="left_wheel_link">
		<visual>
			<origin xyz="0 0 0" rpy="0 0 0" />
			<geometry>
				<mesh filename="package://virat_description/meshes/wheels/tyre1.dae" />
			</geometry>
		</visual>

		<collision>
			<origin xyz="0 0 0" rpy="0 0 0" />
			<geometry>
				<mesh filename="package://virat_description/meshes/wheels/tyre1.dae" />
			</geometry>
		</collision>

		<inertial>
			<origin xyz="0 0 0" rpy="0 0 0" />
			<mass value="10.0" />
			<inertia ixx="2.5" ixy="0.0" ixz="0.0" iyy="5" iyz="0.0" izz="2.5" />
		</inertial>
	</link>

	<joint name="left_wheel_joint" type="continuous">
		<axis rpy="0 0 0" xyz="0 1 0" />
		<parent link="base_link" />
		<child link="left_wheel_link" />
		<origin xyz="0 0.323 0" />
	</joint>

	<link name="front_castor_link">
		<visual>
			<origin xyz="0 0 0" rpy="0 0 0" />
			<geometry>
				<mesh filename="package://virat_description/meshes/wheels/castors1.dae" />
			</geometry>
		</visual>

		<collision>
			<origin xyz="0 0 0" rpy="0 0 0" />
			<geometry>
				<mesh filename="package://virat_description/meshes/wheels/castors1.dae" />
			</geometry>
		</collision>
		<inertial>
			<origin xyz="0 0 0" rpy="0 0 0" />
			<mass value="2" />
			<inertia ixx="0.5" ixy="0.0" ixz="0.0" iyy="1" iyz="0.0" izz="0.5" />
		</inertial>
	</link>

	<joint name="front_castor_joint" type="fixed">
		<parent link="base_link" />
		<child link="front_castor_link" />
		<origin xyz="0.48 0 0.02" />
	</joint>

	<gazebo>
		<plugin filename="libgazebo_ros_diff_drive.so" name="differential_drive_controller">
			<alwaysOn>true</alwaysOn>
			<updateRate>20</updateRate>
			<leftJoint>left_wheel_joint</leftJoint>
			<rightJoint>right_wheel_joint</rightJoint>
			<wheelSeparation>0.626</wheelSeparation>
			<wheelDiameter>0.4</wheelDiameter>
			<torque>0.1</torque>
			<commandTopic>cmd_vel</commandTopic>
			<odometryTopic>odom</odometryTopic>
			<odometryFrame>odom</odometryFrame>
			<robotBaseFrame>base_link</robotBaseFrame>
		</plugin>
	</gazebo>

</robot>